{%- import '_macros/atoms' as render -%}

{# props #}
{%- set item = {
    overline: item.overline ??? '',
    heading: item.heading ??? '',
    body: item.body ??? '',
    image: item.image ??? ''
} -%}
{%- set settings = {
    position: settings.position ??? 'left',
    background: settings.background ??? 'blue-800'
} -%}
{%- set utilities = utilities|default('') -%}

{%- minify -%}
    <article class="sm:flex {{ settings.position == 'left' ? 'sm:flex-row-reverse' : '' }} {{ utilities }}">

        <div class="w-full mb-4 sm:mb-0 px-6 sm:px-0 sm:w-1/2 flex-shrink-0 flex-grow-0 flex items-center">
            <div class="animate" data-animation="fadeIn">
                {{- render.atom('image', 'grid-half', {
                        image: item.image.collect().first(),
                        sizes: ['(max-width:768px) 100vw', '(min-width:768px) 50vw'],
                        alt: content.title,
                        placeholders: placeholders,
                        utilities: 'shadow-xl shadow-zinc-300 rounded-xl'
                    })
                -}}
            </div>
        </div>

        <div class="relative flex flex-col justify-center {{- settings.position == 'right' ? 'sm:pl-10 lg:pl-20' : 'sm:pr-10 lg:pr-20' -}}">
            <div class="animate" data-animation="{{- settings.position == 'right' ? 'slideInRightToLeft' : 'slideLeftToRight' -}}">
                {%- if item.overline -%}
                    {{- render.atom('text', 'overline', {
                        content: item.overline
                    }) -}}
                {%- endif -%}

                <h2 class="mb-6">
                    {{- render.atom('text', 'h2', {
                            content: item.heading
                    }) -}}
                </h2>

                {%- include '_molecules/content/content--prose' ignore missing with {
                    content: item.body,
                } -%}
            </div>
        </div>
    </article>
{%- endminify -%}
