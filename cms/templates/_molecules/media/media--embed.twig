{% import '_macros/atoms' as render %}

{%- set asset = content.embed|length > 0 ? craft.embeddedAssets.get(content.embed[0]) : null -%}

{%- minify -%}
<div class="w-full mb-16 text-center media">

	{% if asset.width > 900 %}
		<figure class="w-full {{ content.position == 'center' ? 'md:w-2/4 xl:w-1/3' : '' }} mx-auto mb-16">
			<div class="{{- getRatioClass({width: asset.width, height: asset.height}) }} relative">
				{{ asset ? asset.html }}
			</div>
			{{- render.atom('text', 'caption', {
                caption: asset.title,
                id: asset.title|url_encode
            }) -}}
		</figure>

	{% else %}
		<figure class="mb-16">
			<div class="inline-block">
				{{ asset ? asset.html }}

				{{- render.atom('text', 'caption', {
                    caption: asset.title,
                    id: asset.title|url_encode
                }) -}}
			</div>
		</figure>
	{% endif %}
</div>
{%- endminify -%}
