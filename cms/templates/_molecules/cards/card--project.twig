{%- import '_macros/atoms' as render -%}

{%- set swatch = swatch(content.colourSwatch) -%}
{%- set utilities = utilities ?? '' %}
{%- set size = size ??? 'small' %}

{%- minify -%}
<div class="{{- utilities -}}">
    <div class="relative group {{ size == 'large' ? 'min-h-90vh' : '' -}}">

        <div class="overflow-hidden w-full {{ size == 'large' ? 'h-90vh' : 'h-full' -}}">
            {{- render.atom('image', 'teaser', {
                image: content.teaserImage[0],
                alt: content.teaserImage[0].title,
                ratio: size == 'large' ? 'isFilled' : 'is1by1 md:is16by9 lg:is1by1',
                placeholders: placeholders,
                animation: 'scale',
                utilities: 'object-left md:object-center'
            }) -}}
        </div>

        <div class="absolute bg-{{- swatch.primary }} border-b-8 border-{{- swatch.secondary }} top-1/2 transform -translate-y-1/2 p-6 w-4/5 lg:w-1/3">
            {{- render.atom('text', 'overline', {
                    content: content.client[0].title,
                    utilities: 'font-mono text-white-100',
                })
            -}}

            <div class="-mb-4">
                {{- render.atom('text', 'card-title', { content: content.title }) -}}
            </div>

            {{- render.atom('chip', 'group', {

                chips: content.projectCategories,
                colors: swatch,
                type: 'skills',
                utilities: 'mt-10 mb-6',

            }) -}}

            {{- render.atom('button', 'primary', {
                text: "View case study",
                swatch: swatch,
                inverted: false,
            }) -}}

        </div>

        <a
            href="{{- content.url -}}"
            data-tag-category="card-project"
            data-tag-action="click"
            data-tag-label="{{- content.url -}}"
            class="absolute inset-0 z-1"
        >
            <span class="sr-only">Read more about {{- content.title -}}</span>
        </a>
    </div>
</div>
{%- endminify -%}
