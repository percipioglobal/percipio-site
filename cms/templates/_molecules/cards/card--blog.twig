{%- import '_macros/atoms' as render -%}

{% set swatchBlog = {
    'primary': null,
    'secondary': null,
} %}

{% for color in content.colourSwatch.color | slice(0,2) %}
	{% set key = loop.first ? 'primary' : 'secondary' %}
	{% set swatchBlog = swatchBlog|merge({ (key) : color.class }) %}
{% endfor %}

{%- minify -%}
<div class="{{- utilities -}}">
	<div class="relative group">
		<div class="flex items-center bg-{{- swatchBlog.primary }} border-b-8 border-{{- swatchBlog.secondary }}  p-6 group-hover:bg-{{- swatchBlog.secondary }} transition-all duration-500 ease-in-out">
			<div class="w-48 hidden md:block">
				{{- render.atom('image', 'teaser', {
                    image: content.teaserImage[0],
                    alt: content.teaserImage[0].title,
                    ratio: 'is1by1 rounded-full',
                    placeholders: placeholders,
                }) -}}
			</div>

			<div class="flex-grow md:pl-8">
                <div class="flex items-center mb-8 md:mb-3">
                    <div class="w-24 flex-shrink-0 md:hidden">
                        {{- render.atom('image', 'teaser', {
                            image: content.teaserImage[0],
                            alt: content.teaserImage[0].title,
                            ratio: 'is1by1 rounded-full',
                            placeholders: placeholders,
                        }) -}}
                    </div>
                    <div class="flex-grow pl-8 md:pl-0">
                        <time datetime="{{ content.postDate|date('c')}}">
                            {{- render.atom('text', 'overline', {
                                    content: content.postDate|date('jS F Y') ~ ' by ' ~ content.author.fullName ,
                                    utilities: 'text-white-100',
                                })
                            -}}
                        </time>
                    </div>
                </div>

                {{- render.atom('text', 'card-title', {
                        content: content.title,
                    })
                -}}

				<div class="text-white-100 prose">
					{{- render.atom('text', 'card-description', {
                                content: content.description,
                            })
                        -}}
				</div>

				{{- render.atom('chip', 'group', {

                    chips: content.blogCategories,
                    colors: swatchBlog,
                    type: 'skills',
                    utilities: 'mt-5 mb-0 space-x-2',

                }) -}}
			</div>
		</div>

		<a href="{{- content.url -}}" class="absolute inset-0">
			<span class="sr-only">Read more about
				{{- content.title -}}</span>
		</a>
	</div>
</div>
{%- endminify -%}
