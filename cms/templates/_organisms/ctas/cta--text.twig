{% import '_macros/atoms' as render %}

{%- set heading = heading ??? '' -%}
{%- set content = content ??? '' -%}
{%- set button = button ??? null -%}
{%- set background = background ??? {
    primary: 'white',
    secondary: null
} -%}

{# custom #}
{%- set style = {
    background: background.secondary ??? null ? 'bg-gradient-to-r from-' ~ background.primary ~ ' to-' ~ background.secondary : 'bg-' ~ background.primary
} -%}
{%- set buttonType = background.secondary ??? null ? 'tertiary' : 'primary' -%}

{%- minify -%}
    <section class="py-12 md:py-32 {{ style.background -}}">
        <div class="text-center container max-w-screen-xl mx-auto">
            <h2>{{- render.atom('text', 'h2', {
                content: heading,
                color: background.primary == 'white' ? 'gray-800' : 'white',
            }) -}}</h2>

            {%- if content -%}
                {{- render.atom('text', 'description', {
                    content: content,
                    color: background.primary == 'white' ? 'text-gray-600' : 'text-white',
                    alignment: 'text-center',
                    utilities: 'mt-8'
                }) -}}
            {%- endif -%}

            {%- if button -%}
                {{- render.atom('button', buttonType, {
                    url: button.getUrl() ??? null,
                    text: button.getText() ??? null,
                    target: button.getTarget() ??? '_self',
                    icon: 'angle-right',
                    ga: {
                        category: 'Call to action',
                        action: 'click',
                        label: button.getUrl() ??? null,
                    },
                    utilities: 'mt-4 md:mt-8'
                }) -}}
            {%- endif -%}
        </div>
    </section>
{%- endminify -%}
