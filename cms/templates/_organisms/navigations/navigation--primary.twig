{%- import '_macros/atoms' as render -%}

{%- set navigation = navigation|default(null) -%}

{%- set logo -%}
    {% include '_atoms/svgs/svg--logo.svg' %}
{%- endset -%}

{%- minify -%}
    <div class="bg-white py-6 bg-opacity-[0.95] z-10 sticky left-0 top-0 w-full transition-transform duration-500 ease-slide" id="site-navigation">

        <a href="#page" class="sr-only focus:not-sr-only">
            Skip to content
        </a>

        <nav aria-label="Site Navigation" class="container max-w-screen-xl mx-auto">
            <ul role="menubar" aria-label="Site Navigation" class="flex items-center">

                {# Logo #}
                <li role="none" class="flex-grow">
                    <a href="/" role="menuitem" tabindex="0">
                        {{- logo -}}
                    </a>
                </li>

                {# Navigation items #}
                {%- for item in navigation -%}
                    <li role="none" class="hidden lg:inline">
                        {%- if item.showAsButton -%}
                            {{- render.atom('button', 'primary', {
                                url: item.target[0].url ??? null,
                                text: item.title ??? null,
                                target: '_self',
                                ga: {
                                    category:'Navigation link',
                                    action:'click',
                                    label: item.title ??? null,
                                },
                                utilities: 'mx-3 ' ~ (loop.last ? 'mr-0' : '')
                            }) -}}
                        {%- else -%}
                            {{- render.atom('link', 'navigation', {
                                url: item.target[0].url ??? null,
                                text: item.title ??? null,
                                target: '_self',
                                active: entry.id == item.target[0].id ??? null,
                                ga: {
                                    category:'Navigation link',
                                    action:'click',
                                    label: item.title ??? null,
                                },
                                utilities: loop.last ? 'pr-0' : ''
                            }) -}}
                        {%- endif -%}
                    </li>
                {%- endfor -%}
            </ul>
        </nav>
    </div>

    {{- render.atom('button', 'hamburger', {
        utilities: 'lg:hidden'
    }) -}}

    {# <div id="navigation-container">
        <NavigationPrimary></NavigationPrimary>
    </div> #}
{%- endminify -%}
