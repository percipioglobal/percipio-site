{%- minify -%}
<ol class="list-hierarchical">
   {%- for entry in craft.entries.section('handbook').level(1).all() -%}

      {# {%- set currentPageId = entry.id -%}
      {%- set allPageIds = craft.entries.section('handbook').level(1).ids() -%}
      {%- set pageNumber = null -%}

      {%- for key, entryId in allPageIds if entryId == currentPageId -%}

         {%- set pageNumber = key + 1 -%}

      {%- endfor -%} #}
   
      {# <ol class="list-decimal" start={{ loop.index }}> #}
         
         <li>

            {{- entry.title  -}}
      
            {%- if entry.hasDescendants == true -%}
               <ol class="list-hierarchical">
                  {%- for child in craft.entries.section('handbook').descendantOf(entry.id).level(2).all() -%}
                     
                     <li>{{- child.title  -}}</li>

                     {%- if child.hasDescendants == true -%}

                        <ol class="list-hierarchical">
                           {%- for grandChild in craft.entries.section('handbook').descendantOf(child.id).level(3).all() -%}
                              
                              <li>{{- grandChild.title  -}}</li>
                           
                           {%- endfor -%}
                        </ol>
                     {%- endif -%}

                  {%- endfor -%}
               </ol>
            {%- endif -%}

         </li>

      {# </ol> #}
         
   {%- endfor -%}
</ol>
{% endminify %}